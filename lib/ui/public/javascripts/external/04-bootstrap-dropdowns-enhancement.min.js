(function(h){var n='[data-toggle="dropdown"]',e=".disabled, :disabled",o=".dropdown-backdrop",r="dropdown-menu",f="dropdown-submenu",k=".bs.dropdown.data-api",m=".bs.dropdown",b="open",d="ontouchstart" in document.documentElement,q;function p(s){h(s).on("click"+m,this.toggle)}var l=p.prototype;l.toggle=function(y){var t=h(this);if(t.is(e)){return}var z=i(t);var x=z.hasClass(b);var v=z.hasClass(f);var A=v?c(z):null;j(y,A);if(!x){if(!A){A=[z]}if(d&&!z.closest(".navbar-nav").length&&!A[0].find(o).length){h('<div class="'+o.substr(1)+'"/>').appendTo(A[0]).on("click",j)}for(var u=0,w=A.length;u<w;u++){if(!A[u].hasClass(b)){A[u].addClass(b);g(A[u].children("."+r),A[u])}}q=A[0]}return false};l.keydown=function(x){if(!/(38|40|27)/.test(x.keyCode)){return}var w=h(this);x.preventDefault();x.stopPropagation();if(w.is(".disabled, :disabled")){return}var v=i(w);var t=v.hasClass("open");if(!t||(t&&x.keyCode==27)){if(x.which==27){v.find(n).trigger("focus")}return w.trigger("click")}var y=" li:not(.divider):visible a";var u="li:not(.divider):visible > input:not(disabled) ~ label";var z=v.find(u+', [role="menu"]'+y+', [role="listbox"]'+y);if(!z.length){return}var s=z.index(z.filter(":focus"));if(x.keyCode==38&&s>0){s--}if(x.keyCode==40&&s<z.length-1){s++}if(!~s){s=0}z.eq(s).trigger("focus")};l.change=function(w){var v,u,t,s,y="",z;u=h(this).closest("."+r);t=u.parent().find("[data-label-placement]");if(!t||!t.length){t=u.parent().find(n)}if(!t||!t.length||t.data("placeholder")===false){return}(t.data("placeholder")==undefined&&t.data("placeholder",h.trim(t.text())));y=h.data(t[0],"placeholder");z=u.find("li > input:checked");if(z.length){y=[];z.each(function(){var C=h(this).parent().find("label").eq(0),A=C.find(".data-label");if(A.length){var B=h("<p></p>");B.append(A.clone());C=B.html()}else{C=C.html()}C&&y.push(h.trim(C))});y=y.length<4?y.join(", "):y.length+" selected"}var x=t.find(".caret");t.html(y||"&nbsp;");if(x.length){t.append(" ")&&x.appendTo(t)}};function g(t,s){if(t.hasClass("pull-center")){t.css("margin-right",t.outerWidth()/-2)}if(t.hasClass("pull-middle")){t.css("margin-top",(t.outerHeight()/-2)-(s.outerHeight()/2))}}function j(t,u){if(q){if(!u){u=[q]}var s;if(q[0]!==u[0][0]){s=q}else{s=u[u.length-1];if(s.parent().hasClass(r)){s=s.parent()}}s.find("."+b).removeClass(b);if(s.hasClass(b)){s.removeClass(b)}if(s===q){q=null;h(o).remove()}}}function c(t){var s=[t];var u;while(!u||u.hasClass(f)){u=(u||t).parent();if(u.hasClass(r)){u=u.parent()}if(u.children(n)){s.unshift(u)}}return s}function i(u){var s=u.attr("data-target");if(!s){s=u.attr("href");s=s&&/#[A-Za-z]/.test(s)&&s.replace(/.*(?=#[^\s]*$)/,"")}var t=s&&h(s);return t&&t.length?t:u.parent()}var a=h.fn.dropdown;h.fn.dropdown=function(s){return this.each(function(){var u=h(this);var t=u.data("bs.dropdown");if(!t){u.data("bs.dropdown",(t=new p(this)))}if(typeof s=="string"){t[s].call(u)}})};h.fn.dropdown.Constructor=p;h.fn.dropdown.clearMenus=function(s){h(o).remove();h("."+b+" "+n).each(function(){var u=i(h(this));var t={relatedTarget:this};if(!u.hasClass("open")){return}u.trigger(s=h.Event("hide"+m,t));if(s.isDefaultPrevented()){return}u.removeClass("open").trigger("hidden"+m,t)});return this};h.fn.dropdown.noConflict=function(){h.fn.dropdown=a;return this};h(document).off(k).on("click"+k,j).on("click"+k,n,l.toggle).on("click"+k,'.dropdown-menu > li > input[type="checkbox"] ~ label, .dropdown-menu > li > input[type="checkbox"], .dropdown-menu.noclose > li',function(s){s.stopPropagation()}).on("change"+k,'.dropdown-menu > li > input[type="checkbox"], .dropdown-menu > li > input[type="radio"]',l.change).on("keydown"+k,n+', [role="menu"], [role="listbox"]',l.keydown)}(jQuery));